---
layout: post
title: 地理, 多维数组的行优先和列优先
category: Nature 
---

* toc
{:toc}

# 地理

古陆核（craton）是指大陆地壳上长期稳定的构造单元 ，即大陆地壳中长期不受造山运动影响，只受造陆运动发生过变形的相对稳定部分，常与造山带（Orogen）对应。

https://mp.weixin.qq.com/s/-TZH-zVnHcoffyUzhEzwaA

中国为什么地震频发？

----

2017.8.8

九寨沟的7.0级地震，成都有感。这是我有感的第一次7级地震。

汶川地震，我在北京，公司在2楼，完全无感。

芦山地震，我在广州出差，无感。

----

https://mp.weixin.qq.com/s/SukZFrroUmldi25Vfvp2gA

拿下杜克全奖的学霸男神, 却选择了在汶川地震中失去双腿和女儿的她....

----

![](/images/img2/salt_sea.jpg)

https://www.zhihu.com/answer/303210942

咸海覆灭

----

汉初以前，今嘉陵江上游诸水本是古汉水的上游，由于河道壅塞，在今陕西略阳以上形成河道型的山间湖泊“天池大泽”。公元前186年的武都道大地震，震中约在今陕西略阳、宁强一带，造成今陕西宁强汉王山一带山体发生巨大滑坡。

祁山道和陈仓道实际上是依托西汉水和嘉陵江的，这也就意味着在难走的秦岭山脉，韩信的运粮渠道并不艰难，可以通过一艘艘大船使命必达。

武都大地震之后，汉水断了，西汉水最终和嘉陵江源头汇入了今天的嘉陵江。粮草辎重无法再通过水路直接通到祁山道和陈仓道了。

http://economy.guoxue.com/?p=1428

汉初武都大地震与汉水上游的水系变迁

https://www.zhihu.com/question/366835590

如果把诸葛亮替换成韩信，蜀汉能统一中国吗？

----

Mercator projection：由荷兰地图学家墨卡托(G.Mercator)于1569年创立。如果循着墨卡托投影图上两点间的直线航行，可以方向不变一直到达目的地。

Lambert projection：大比例尺地图/省级地图

Gauss-Kruger projection：中纬度大区域地图/世界地图/中国地图

https://mp.weixin.qq.com/s/V8o6lNajB6v8u80VvaO1kw

如何给地球拍一张“素颜照”？

----

1956年，加州理工学院的地球化学家Clair C. Patterson利用同位素法测定出地球有着46亿年的历史。

https://mp.weixin.qq.com/s/czp-2aW8WGeuZqamJrkoAw

46亿岁的地球，有一颗年轻的“心”

----

https://mp.weixin.qq.com/s/QAHuICzvUNsFdNtR9S_kqQ

地球之美 好好好看！

https://mp.weixin.qq.com/s/cpL-Ns9azpirzHBWQBSZTw

在地球之外看地球，17张绝美空间站照片带给你“人眼难以承受”的美丽

----

2011年1月后，著名的奥里诺科(Orinoco)石油带被探明和确认，奥里诺科石油带让委瑞内拉探明可采储量的从1000亿桶攀升到近3000亿桶，取代沙特阿拉伯成为可采储量最大的国家。

http://blog.sina.com.cn/s/blog_5122b1940102xf7x.html

此油田探明储量是全中国的10倍，它才是名副其实的世界最大油田

----

太行八陉：军都陉、蒲阴陉、飞狐陉、井陉、滏口陉、白陉、太行陉、轵关陉。

----

https://zhuanlan.zhihu.com/p/53237519

一文读懂印尼海啸的真正原因（喀拉喀托之子）

https://mp.weixin.qq.com/s/FeSKZqe394-8xT4i-BOEog

掉入地下一万米

https://www.zhihu.com/question/285058234

永暑岛怎么会发现淡水资源？（淡水透镜体效应）

https://mp.weixin.qq.com/s/T2ms6xXd14O3CrQb7X1ZOw

人类用了2000年就为画张地图

https://mp.weixin.qq.com/s/WRd_kx-HeSSgDtPTdgk09A

山上“飞”来只火凤凰，这里的居民却要杀掉它？

https://mp.weixin.qq.com/s/lu4wQOIzVtsFvwhO1c2d0A

一大坨泥巴在移动，没人能够阻止它（圣安德列斯断层）

https://mp.weixin.qq.com/s/R5EonufyiXy8bzD2fddnEg

不喷岩浆喷泥浆，这些火山是要闹哪样？

https://mp.weixin.qq.com/s/_DlXbYZ6JmqarUf6egD2fw

暴雨后不见彩虹，却引来一场持续四个月的火山喷发？（基拉韦厄火山）

https://mp.weixin.qq.com/s/GDV1Wp8Ij9VpyDFXmkwN5A

一场大规模的火山爆发，终结了罗马共和国？（公元前43年发生在阿拉斯加的奧克莫克火山爆发）

https://mp.weixin.qq.com/s/63d-A5knRit6T13cgGtJrg

带来毁灭，又给予重生。火山如何记录完整地球故事？

https://www.zhihu.com/answer/513535282

皮内尔湖灾难（Lake Peigneur Disaster）

https://mp.weixin.qq.com/s/xvJqlHz__N43Z8SYH6pB8Q

打赢抗洪战争，究竟有多难？

https://mp.weixin.qq.com/s/Hz3kFgqmAG-SVxiel8Fj7w

她绘制的地图，革新了我们对海底的认知（Marie Tharp）

https://mp.weixin.qq.com/s/5qYXmOvQigvcDDeGQGmkSQ

河水能把地壳冲掉吗？

https://mp.weixin.qq.com/s/ynyU5YUSHSu839N1pljBHQ

张掖绝美“彩虹山”，为何常常被误解成丹霞地貌？

https://mp.weixin.qq.com/s/YY7JfNxDzcNuku73HYxE8A

有一种地震，对生活是有益的？

https://mp.weixin.qq.com/s/5jH_PH5SfsmR_i-SWCavJA

这只猫居然2000多岁了，古代的猫奴这么疯狂的吗？居然用它做那种事……（纳斯卡地画）

https://mp.weixin.qq.com/s/28lFYHm_dd9jQdO-MwbmWw

超前的思想，迟到的荣誉（Alfred Lothar Wegener）

https://mp.weixin.qq.com/s/ABYf1naUtycBNllvqW5y6Q

荒漠中发现神秘巨型金属，网友开始光速破案

https://mp.weixin.qq.com/s/jHswcZDCjBH6qp46W8Vc4g

漫画：为什么新疆永远不包邮？

# 多维数组的行优先和列优先

这里以numpy为工具，介绍一下多维数组的行优先和列优先的概念。

首先我们生成一个3x4的数组：

`arr = np.arange(12).reshape(3,4)`

它的形状是这样的：

![](/images/article/arr_3x4.png)

如果我们按照C语言的方式存储它，也就是行优先存储的话，那么在内存中，它的形状是这样的：

![](/images/article/arr_3x4_C.png)

这种存储方式又被称作C contiguous array。

另一派存储方式，也就是列优先存储，它的代表是Fortran语言。上面的数组在内存中的形状就是这样的了：

![](/images/article/arr_3x4_Fortran.png)

这种存储方式又被称作Fortran contiguous array。

上述描述也可用下图表示：

![](/images/img2/Row_and_column_major_order.png)

numpy对这两种方式都支持，而且还巧妙的利用了两者之间的差异，对运算进行了简化。

`arr2 = arr.T`

比如上述转置操作，你以为numpy真的做了转置运算吗？其实不然。

```python
>>>arr.flags.f_contiguous
False
>>>arr2.flags.f_contiguous
True
```

看到没，这里仅仅设置了一个标志而已。

C和Fortran的这种差异，实际上是上世纪60年代，两大IT巨头AT&T和IBM之间战争的结果，并深远的影响了后来的软件。比如在通用计算领域，主要采用C格式，而数值计算领域，则多采用Fortran格式。

典型的例子是Matlab。它最早是作为一些Fortran数学库的封装而存在的，因此很自然的采用了Fortran格式。OpenGL、OpenVX之类的接口，实际上也沿袭了这种路径依赖。

Fortran作为最早的高级语言（1957年），至今仍有很强的生命力，这主要归功于：

1.对数组、复数等数值计算的原生支持。这些语法糖，对于非程序员的科技人员很友好。

2.没有指针等复杂特性。这一点既降低了上手的门槛，又对于编译器优化（尤其是现在比较流行的并行计算优化）很有好处。普通科技人员即使没有经过特殊的程序训练，也可以写出非常高效的程序。

对于同样的内存布局，我们只需要颠倒下标就可以进行行/列优先的转换：

例如Caffe的默认格式是: NCHW，行优先。

而OpenVX是：WHCN，列优先。

两者在内存中的布局是完全相同的。

# 化学+

https://mp.weixin.qq.com/s/Vam7uTbwPfF8Ht365lGtvA

一般不扯淡--直男口红入门！

https://mp.weixin.qq.com/s/a3z7PKTOqmxlEosi2EgoaA

blue生色，九寨沟不得不说的“蓝”题

https://mp.weixin.qq.com/s/XZyOXfqvq7bJ1_2eUPknAA

千年锈色耐人寻——古代铜锡铅合金锈蚀谜题

https://mp.weixin.qq.com/s/v_6w1XOs5iqnoZ-y04B3XQ

一个只涉及三个电子的化学反应居然这么复杂？

https://mp.weixin.qq.com/s/LUeWIT-gUFZTPs2CFJ3ygQ

卡姆吸毒被抓，北京大学的这项黑科技一直在闷声干大事！

https://mp.weixin.qq.com/s/K2magOnDUmcWPN52QExO6g

Tony老师，我明明染的蓝黑，怎么就绿了？？

https://mp.weixin.qq.com/s/NvF5cEpM3pomDgMNjg2QbQ

你拿得起放不下的甜，都是糖的味道吗？

https://mp.weixin.qq.com/s/ge3FBSKFPvZgpWWbCAvm3A

让许幻山放不下的蓝色烟花，有多难生产？

https://mp.weixin.qq.com/s/u_Xg4naj0UetFs8tROHK8A

从“垃圾元素”到“爱情金属”，它是怎么咸鱼翻身的？（铂）

https://mp.weixin.qq.com/s/ZJWx-7byW9dDrC58Q6f_hw

从冰淇淋到洗衣粉，它们靠“香”行走江湖

https://mp.weixin.qq.com/s/pry9NlLCql74XhdvRADBiQ

它是“地球保护伞”，也可能是危险的隐形反派

https://www.zhihu.com/question/411561262

现代制造的刀放到古代算不算名刀？

https://mp.weixin.qq.com/s/HSpZsD7E3S0TAhk_VwUDUg

诺贝尔化学奖历史上的遗珠之憾

https://mp.weixin.qq.com/s/V0Jh1Qv-RXoSK63Z5C092g

一滴水里最少有几个水分子？5个还是6个？

https://mp.weixin.qq.com/s/tGYqdbrYUkXaIEa_ycAzUQ

幸运的化学，悲催的奠基人（Antoine-Laurent de Lavoisier）

https://mp.weixin.qq.com/s/cUuw9CflfLrxXuSmNbra_A

中学的元素周期表还藏着4000多种……（同位素）

https://zhuanlan.zhihu.com/p/23284525

靠谱地，咱聊聊田中耕一

https://mp.weixin.qq.com/s/irMd_sRRwZhbTuIXo3na6Q

今天，说一下人工钻石（钻石半导体）

https://mp.weixin.qq.com/s?__biz=MjM5MDE3OTk2Ng==&mid=2657461706&idx=1&sn=589d7a4d65f2e2fdd696100e06b1a257

高考成绩接近满分，却被清华北大拒绝，被称“中国最帅科学家”（中国油田分层开采和化学驱油技术的奠基人——王德民）

https://mp.weixin.qq.com/s/0fdnEWpLvPSbweFh0v4x9A

科学家的浪漫，是用激光画一道彩虹（姜黄素）

https://mp.weixin.qq.com/s/TM8Cc3AI7Vo5H6VnOl3gyw

唯一两获诺贝尔化学奖的科学家，自称“只是把实验室搞砸的家伙”（弗雷德里克·桑格）

https://mp.weixin.qq.com/s/wIaMPdYWHzn9vDpiuWZOVg

解读2019诺贝尔化学奖：他们创造了一个可充电的世界

https://wenku.baidu.com/view/209d2f8183d049649b665894.html

超纯水18.2的意义
