---
layout: post
title:  Graph ML（一）——图论基础, 强连通分量算法, 社交网络
category: graph 
---

* toc
{:toc}

# 图论基础

## 基本概念

**图(Graph)**，是一种由若干个结点(Node)及连接两个结点的边(Edge)所构成的图形，用于刻画不同结点之间的关系。

以下术语，每组均为同义词，下文将不加区分的任意使用：

**Objects: nodes, vertices --> V**

**Interactions: links, edges --> E**

**System: network, graph --> G(V,E)**

Network, node, link偏重于现实中的系统，而Graph, vertex, edge就是纯数学的表示了。

Graph非常适合用于描述non-Euclidean space的数据：

![](/images/img3/graph.png)

与Network相关的任务主要包括：

- Node classification：预测结点的类型。

- Link prediction：预测两个结点的连接性。

- Community detection：识别有密切关系的结点簇（clusters）。

- Network similarity：度量两个Node/Network的相似性。

**BFS**：Breadth First Search

**DFS**：Depth First Search

**Node Embedding**：将结点映射到高维空间，以使相似的结点，距离也较近。

**Node Degree**：结点的边的数量。对于有向图还可分为in-degree和out-degree。

**Complete Graph**：在N个结点的图中，任意一个结点都和其他结点连接。显然在相同结点数的图中，完全图的边数最多：$$E_{max}=\frac{N(N-1)}{2}$$。

**Bipartite Graph**：

![](/images/img3/Bipartite_Graph.png)

上图中结点被分为U、V两个子集，且每条边都是一个U中的结点连接上一个V中的结点。

Bipartite Graph典型例子是演员-电影关系图，显然演员是一个子集，而电影是另一个子集。

![](/images/img3/Bipartite_Graph_2.png)

如上图，Bipartite Graph可被用来进行图结构的变换。

图的表示方法：

- **Adjacency Matrix**

- **Adjacency List**

- **Edge List**

对于真实的网络来说，每个结点的邻接结点数量一般远小于网络的结点数N，即$$E\ll E_{max}$$。这种情况下，图的邻接矩阵是一个稀疏矩阵，因此采用Adjacency List/Edge List会更有效率一些。

除了标准图之外，还有若干图的变种：

- **Weighted**：边有权重属性的图。

- **Self-edges (self-loops)**：结点和自己之间有边的图。

- **Multigraph**：两个结点间有不止一个边的图。

![](/images/img3/graph_2.png)

上左图中，绿色的边去掉之后，图就不连通了，这样的边被称为**Bridge edge**。

上左图中，蓝色的结点去掉之后，图就不连通了，这样的结点被称为**Articulation node**。

对于有向图来说，它的连通性有如下术语：

**Strongly connected directed graph**：图中任意两点A、B之间，既有A->B的路径，也有B->A的路径。这里的路径可以是两点间的直接连接，也可以是路过其他点的间接连接。

**Weakly connected directed graph**：图中至少有两点间，只有单向的路径。

**Strongly connected components (SCCs)**：一个图的所有子图中，满足强连通条件的子图。

**In-component**：能够到达SCC的结点，被称为该SCC的In-component。类似的还有**Out-component**。

## Network Properties

Network Properties是一些用于定量描述Network的指标。常见的主要有：

- **Degree distribution**：P(k)

![](/images/img3/graph_3.png)

$$P(k)=N_k/N$$

其中，$$N_k$$表示degree为k的结点的数量。

- **Path length**：h

沿着图中的边的方向，从一个结点到另一个相邻结点的行为被称为**Step Walk**。

**Path**：一系列**连续**的Step Walk所形成的结点序列。

Path通常有两种表示方式：

结点表示：$$P_n = \{i_0 ,i_1 ,i_2 ,\dots,i_n \}$$

边表示：$$P_n = \{(i_0 ,i_1 ),(i_1 ,i_2 ),(i_2 ,i_3 ),\dots,(i_{n-1} ,i_n )\}$$

序列中边的个数被称为**Path length**。

一条路径可以经过同一个顶点或同一条边若干次。

如果路径上的各顶点均不重复，则称这样的路径为**Simple path**。如果路径上的第一个顶点与最后一个顶点重合，这样的路径称为**回路(cycle)或环或圈**。

两点间长度最短的路径被称为**shortest path**。shortest path的长度被称为两点间的**Distance**。两个不连接结点间的距离，通常定义为正无穷。

对于有向图来说，$$h_{B,C}$$通常不等于$$h_{C,B}$$。

图中所有结点间距离的最大值，被称为**Diameter**。

强连通图中，所有结点间距离的平均值，被称为**Average path length**。

$$\overline h = \frac{1}{2E_{max}}\sum_{i,j\neq i}h_{ij}$$

- **Clustering coefficient**：C

$$C_i=\frac{2e_i}{k_i(k_i-1)}$$

其中，$$e_i$$表示结点i的邻居之间的边的个数。$$k_i$$表示i的degree。

![](/images/img3/Clustering_coefficient.png)

以上左图为例，i结点有4个邻居，也就是$$k_i$$为4。这些邻居之间有6条边，即$$e_i$$为6。综上可得，$$C_i=1$$。

由于$$k_i(k_i-1)$$是完全有向图的边数，所以$$C_i\in [0,1]$$。

图中所有结点的$$C_i$$平均值被称为**Average clustering coefficient**：

$$C=\frac{1}{N}\sum_i^N C_i$$

- **Connected components**：s

这里用s表示图中最大的连通子图（Largest component / Giant component）的结点数。

## Random Graph Model

上面讲述了图的统计特性，反过来给定了统计特性，我们也可以生成相应的图。这种生成图的方法通常称为Random Graph Model。

我们用$$G_{np}$$表示n个结点的无向图中，每个边出现的概率是p。用$$G_{nm}$$表示n个结点的无向图中，随机均匀的选择m个边。

由于这是一个随机选择的过程，因此同样的n和p可以对应很多组不同的图。

对于$$G_{np}$$来说，由于每条边只有选择和不选择两种可能，因此总的来看，它的Degree distribution满足二项分布。即：

$$$$

## 参考

https://mp.weixin.qq.com/s/LqCfwf90bzZKVMLLY5dbXA

图数据分析与可视化，538页pdf

https://mp.weixin.qq.com/s/zOdy-1vCJD_dPFSoe0ELFA

图论与图学习（一）：图的基本概念

https://mp.weixin.qq.com/s/0ZdS1WOSDZiXnxP8fybBAw

图论与图学习（二）：图算法

https://mp.weixin.qq.com/s/BkKw2C3n9WsmIchJkkZxUw

从七桥问题开始：全面介绍图论及其应用

https://mp.weixin.qq.com/s/ZDY3Yt67eXK5pjXgvJkkyQ

图论的各种基本算法

https://mp.weixin.qq.com/s/2h1dgvPbYKBOYZPiixg9iw

手把手：四色猜想、七桥问题…程序员眼里的图论，了解下？

https://mp.weixin.qq.com/s/ra9v1pgFsbOcJrtONoZNvQ

图论基础与图存储结构

https://mp.weixin.qq.com/s/Y7qZlJdJ8fav5BXFGwdSOQ

Graph Analysis and Its Application

https://mp.weixin.qq.com/s/VdvvQetxAvkiNF04hV9PeA

图搜索算法介绍(RRT/RRT*)

https://mp.weixin.qq.com/s/dTI3BdgixVTAFsnxtKjq0A

常见图算法介绍

https://mp.weixin.qq.com/s/dsPiw-n8iclT8uWkeTiBUA

图数据表征学习，绝不止图神经网络一种方法

# 强连通分量算法

http://ishare.iask.sina.com.cn/f/34626295.html

矩阵不可约的充要条件

http://www.cnblogs.com/saltless/archive/2010/11/08/1871430.html

求强连通分量的Tarjan算法

http://blog.csdn.net/dm_vincent/article/details/8554244

求解强连通分量算法之---Kosaraju算法

http://www.cnblogs.com/luweiseu/archive/2012/07/14/2591370.html

强连通分支算法--Kosaraju算法、Tarjan算法和Gabow算法

# 社交网络

## 信息传播模型

### 感染模型

SI、SIR等模型。

https://www.cnblogs.com/scikit-learn/p/6937326.html

基本的传染病模型：SI、SIS、SIR及其Python代码实现

https://blog.csdn.net/robin_Xu_shuai/article/details/73699207

SI疾病传播模型实现

### 影响力模型

IC、LT等模型。

https://blog.csdn.net/asialee_bird/article/details/79673418

社交网络影响力最大化

http://cjc.ict.ac.cn/online/onlinepaper/wzj-201672182158.pdf

基于社交内容的潜在影响力传播模型

## 链接预测

Link Prediction是指如何通过已知的网络节点以及网络结构等信息预测网络中尚未产生连边的两个节点之间产生链接的可能性。这种预测既包含了对未知链接（exist yet unknown links）的预测也包含了对未来链接（future links）的预测。该问题的研究在理论和应用两个方面都具有重要的意义和价值。

http://www.docin.com/p-810499317.html

社交网络中的链接预测研究

## 社区发现

社区发现（Community Detection）算法用来发现网络中的社区结构，也可以视为一种广义的聚类算法。

https://blog.csdn.net/itplus/article/details/9286905

Community Detection算法

https://www.zhihu.com/question/29042018

社区发现(Community detection)的经典方法有哪些？该领域最新的研究进展如何？

http://www.mapequation.org/index.html

这是一个复杂网络方面的网站，提供了很多算法的代码。例如infomap

https://www.cnblogs.com/nolonely/p/6262508.html

社区发现算法总结（一）

https://www.cnblogs.com/nolonely/p/6268150.html

社区发现算法总结（二）

https://sikasjc.github.io/2017/12/20/GN/

GN算法--复杂网络中社区发现与Python实现

https://www.cnblogs.com/LittleHann/p/9078909.html

社区发现算法-Fast Unfolding（Louvian）算法初探

http://blog.sina.com.cn/s/blog_617032070100er0r.html

Infomap算法描述

https://mp.weixin.qq.com/s/S0vUBFCfizjVe_L4SIrGqQ

网络新闻真假难辨？机器学习来助你一臂之力

https://mp.weixin.qq.com/s/2aKc4yM0b52X-SViGQycwA

大规模网络的社区检测和排序问题综述

https://mp.weixin.qq.com/s/_HOdAo2ClhJqbUrDvsc-3w

Philip S. Yu 团队最新综述！社区发现的深度学习方法：进展、挑战、机遇

## Social Listening

企业们通过捕捉网络上与品牌/产品/营销事件相关的关键词，去监测消费者都对品牌/产品/营销事件说了什么的行为，被称作社会化聆听（Social Listening）。

https://mp.weixin.qq.com/s/htzfVSv3V8b00vae6nKm-A

如何利用Social Listening从社会化媒体中“提炼”有价值的信息？

https://mp.weixin.qq.com/s/0khbV1yOFZ5vNLZPRKYA6g

Social Listening和传统市场调研的关系是怎样的？

https://mp.weixin.qq.com/s/QrI23je3HqCFYkeVb9af8g

如何利用Social Listening从在线垂直社区提炼有价值的信息---以汽车之家的口碑数据挖掘为例

