---
layout: post
title: CPU(三)
category: Chip 
---

* toc
{:toc}

# CPU

## 国产CPU

当年引进“以赛亚”内核的时候，兆芯的性能是优于龙芯的，然而，经过这些年的发展，龙芯通过不断迭代内核大幅提升的CPU性能，CPU性能已经超越兆芯。要知道，当时，兆芯承接核高基01专项，而且还有上海市地方海量资金扶持，而龙芯获得的经费和补贴相对于兆芯少的可怜。龙芯用实践证明了自主研发更具发展后劲，自主研发具有更高的效费比，可以花小钱办大事。

2013年前后，兆芯向威盛支付了一大笔钱购买技术。2020年10月，兆芯又向威盛支付了一大笔钱。这种“买了又买”的事实很容易让人产生疑惑，兆芯到底能不能不再向威盛买技术？能不能真正独立自主发展？

https://mp.weixin.qq.com/s/HDTNCrKYJ7daZieg4rb4VA

英特尔收购威盛X86业务 兆芯何去何从

---

多年前，ARM Cortex A57大致与X86阵营吊车尾的VIA nano性能相当，短短数年间，ARM公版架构就接近到X86主流水平。而同期飞腾的Arm CPU的CPU核则进步缓慢，从2014年至2021年，其CPU IPC仅提升了20%左右，即便是以牙膏厂闻名遐迩的英特尔也只能自叹不如。

倚天710证明了ARM芯片从设计到制造的全球产业链在流程上已经非常成熟，证明了在全球分工的情况下，只要有钱就能设计出高性能ARM CPU。

龙芯首席科学家胡伟武在公开讲座上就表示：“你给我一笔钱，叫我做一个芯片，我可以不用一个技术人员，只要行政助理，然后购买arm imagination的ip，委托第三方设计，然后给代工厂生产做出来......但你要我做一个A76级别的IP，（从零开始迭代演进）我可能要10年才能做出来”。

国内这些ARM CPU如果不能实现自产自销，就只能宣传自主可控，卯足了劲往党政国企采购冲，一旦失去地方政府的支持，就只能关门倒闭，比如华芯通。

https://mp.weixin.qq.com/s/KdJ0b-E0ckK6WMG5HDcEUw

互联网巨头基于全球产业链打造ARM CPU

---

海光买了AMD zen-（浮点单元阉割一半）的IP，但是买不到zen2和之后的新核心，因为AMD不卖。

飞腾找台湾世芯代理设计，但因飞腾参与超算建设上了美国黑名单，台湾世芯宁可承受损失也不再继续提供设计服务。

---

龙芯2E/2F：当时是作为中法半导体战略合作协议的一部分，被要求在意法半导体生产，此时龙芯还是计算所的一个项目组。

2010年，龙芯1000系列：65nm，因为意法半导体合作得很好，且龙芯正穷，无法承担更换代工厂的风险，就继续在意法半导体生产。

2012～14年，龙芯1500系列：32nm/28nm，当时境内尚未有成熟的32/28nm工艺，且龙芯仍然很穷，继续在意法半导体生产。

2015年，龙芯2000系列：40nm，龙芯开始盈利，在境内生产。境内28nm工艺生产大芯片比较困难，于是制程退步到40nm，但成品率仍然有点低。

2017年，龙芯3000系列：28nm，在境内和意法半导体都有生产，境内的版本为了拉高成品率，而降低了CPU运行频率。

2019年，龙芯4000系列：28nm，在意法半导体生产（传闻也有境内生产的版本），仍然保持28nm制程，随时可以切换回境内生产。

2020～21年，龙芯5000系列：在境内生产，境内的14/12nm制程成熟，使用14/12nm制程，CPU单核性能达到国内第一，略超华为使用7nm工艺的ARM服务器/桌面CPU，且4核的3A5000性能与国内另一家ARM厂商的最新8核产品相当。

下一代龙芯6000系列：坚持不使用最新工艺，境内能生产什么，龙芯就设计什么，仍然是14/12nm制程，预计单核整数性能提高40%，浮点性能提高60%，与市场主流（中端桌面CPU产品）水平更加接近。

https://mp.weixin.qq.com/s/NPMCtGGM5iN9ZCznnt-OIw

胡伟武：我国手机CPU的自给率是0%

---

https://mp.weixin.qq.com/s/SaUr2Mp4W5xmlyTcePrzlQ

目前最全国产芯片公司一览

---

大家都知道Flink是阿里研发的，上云后就是阿里云的流计算。

可是吧，这玩意是德国团队开发的哇，人家还在Apache基金会开源了。

阿里借助程序员多，钱多，在Apache上贡献代码比较多，就说自己是开发的flink，说到底，这玩意就是阿里优化而已。为了圆这个梦，还花了钱把人家创始团队给买了，技术归阿里了。

Data Artisans是由开源数据流处理技术Apache Fink的几位开发者于2014年创办的数据处理创业公司。2019年1月被阿里巴巴收购。

https://www.zhihu.com/question/435517345

如何看待阿里奇点编码器可以把视频压缩上千倍而画质影响不大？

## C Model

在芯片的架构设计阶段需要对芯片进行建模（modeling），建模的主要目的是在大规模投入人力之前先用低成本的计算机软件实现目标芯片的主要功能，评估芯片的工作效果，验证设计思想，并作为后续开发活动的标准和依据。由于这里的软件开发一般使用C语言，所以也叫做C Model。

一般而言，C Model的功能定位可能会有以下几种：

1. 作为算法模型的C版本，定义模块输入输出行为的标准，实现数据的bit-match；

2. 在1的基础上，定义模块的内部结构和资源约束；

3. 在2的基础上，精确定义模块的输入输出时序，实现cycle-accurate；

https://zhuanlan.zhihu.com/p/263012865

ASIC Design and C Model

## Other

https://zhuanlan.zhihu.com/p/34003929

调试程序时，设置断点的原理是什么？

>Visual Studio有个有趣的特性是debug编译后，会把0xcc（INT 3）填入代码的空隙，这样一旦程序越界就会被VS捕捉而容易发现错误。而0xCCCC在中国的GBK编码是“烫”。有中国程序员翻看内存到代码段会发现很多"烫烫烫"，不明所以，以为发生了什么神奇的事情。

---

超线程其实就是两个线程共享一个计算单元和内存控制单元，但有自身独立的一些硬件，目的是两个都不是全负荷工作的线程可以轮流使用计算单元来实现比较好的throughput。但只要有一个很忙，那就可能饿死另一个。

---

![](/images/img3/Memristor.png)

https://mp.weixin.qq.com/s/k0u7pVzf7tjVF4UjZ3ai7A

忆阻器的前世今生

https://mp.weixin.qq.com/s/rSGRXfN4z3ElP7iQX1umjQ

基于新型忆阻器的存内计算原理、研究和挑战

---

是因为AMD做不出（或者说基于成本不愿意做）单个N核心（N>8）的Die，单个Die是由两个CCX组成的Zeppelin模块，12nm制程单个Die面积213mm^2，为了堆核心只能用胶水把4个Die封装在一起。Intel是一个Die就28核心，14nm制程的CSL(Cascade Lake)架构单个Die面积就694mm^2，Xeon 9282的胶水双核已经够大了。

https://www.zhihu.com/question/322451170

为什么amd能胶水做到8die，intel最多胶水2die?

---

![](/images/img4/In_Chip_Bus.jpg)

https://zhuanlan.zhihu.com/p/32216294

破茧化蝶，从Ring Bus到Mesh网络，CPU片内总线的进化之路

---

https://mp.weixin.qq.com/s/Cij_95iLbAm0AEtrSb72_A

关于CPU科普，这篇说得最详细

https://zhuanlan.zhihu.com/p/29743431

CPU制造的那些事之一：i7和i5其实是孪生兄弟！？

https://zhuanlan.zhihu.com/p/29767262

CPU制造的那些事之二：Die的大小和良品率

https://zhuanlan.zhihu.com/p/31848803

为什么CPU越来越多地采用硅脂而不是焊锡散热？

https://zhuanlan.zhihu.com/p/27624654

CPU风扇停转后会发生什么？CPU凭什么烧不坏

https://zhuanlan.zhihu.com/p/30409360

为什么CPU的频率止步于4G?我们触到频率天花板了吗？

https://zhuanlan.zhihu.com/p/33145828

什么是Speculative Execution？为什么要有它？

http://mp.weixin.qq.com/s/sshhUppVPP6qM7LH1V3nSQ

四位计算机的原理及其实现

https://zhuanlan.zhihu.com/p/33579054

Reset重启后发生了什么？它和关机后再开机有什么区别？

https://zhuanlan.zhihu.com/p/34091597

ARM攒机指南-网络篇

https://zhuanlan.zhihu.com/p/34223088

如何进入BIOS？

https://zhuanlan.zhihu.com/p/30565679

人工智能技术热潮中，是否存在破解苹果A11处理器的可能？

https://mp.weixin.qq.com/s/UWpp2r0_yDxNyJk-cldVyA

处理器高危漏洞无人幸免？树莓派：我们不受影响

>最近的Meltdown和Spectre漏洞被炒的沸沸扬扬，然而能用python语言讲述复杂的CPU计算原理，这是该文的一大创见。

https://mp.weixin.qq.com/s/v_BsfSFp-LwiCOFKaMIS_g

后摩尔时代，如何给你的CPU减负？

https://mp.weixin.qq.com/s/gpfMOW7gzVa2HhYOlDy2nQ

从Intel和ARM争霸战，看看做芯片有多难

https://zhuanlan.zhihu.com/p/43626576

关于芯片，这篇说得最详细！

https://zhuanlan.zhihu.com/p/43768401

如何像搭积木一样构建CPU？Intel和AMD都是怎么做的？

https://zhuanlan.zhihu.com/p/48593932

CPU底部的小块是干什么用的？为什么CPU这么多电源引脚？

https://zhuanlan.zhihu.com/p/51145563

TDP是CPU的功耗吗？TDP是固定不变的吗？

https://mp.weixin.qq.com/s/gzE46SzANLaYaXdLVEBRaA

专家揭秘“低功耗芯片设计”真相

https://mp.weixin.qq.com/s/pFBhnjtXi8uNMGjYFeSfow

芯片行业都难在哪儿？这篇说得最详细！

https://mp.weixin.qq.com/s/nDWJS4rfWsqeVgJQbAYQ6w

一文看懂IGBT(绝缘栅双极型晶体管）

https://mp.weixin.qq.com/s/4_eGNtXULAdK9UzsP1mwKA

IGBT的现状与发展

https://mp.weixin.qq.com/s/TG6C4P-DvhRTJ2FoU8PFtw

IGBT基础与运用知识

https://zhuanlan.zhihu.com/p/56864499

CPU是怎么调节输入电压的？为什么要这么做？

https://mp.weixin.qq.com/s/LreWWlXAQL-dqQBCk93soQ

解读两大精简指令集：RISC-V和MIPS

https://mp.weixin.qq.com/s/JLg6sEwCxTMpo2nyCt50qg

指令集——CPU芯片江湖中的门派标志

https://mp.weixin.qq.com/s/7gXK6Qv9gLMkYtXw9oz9Sg

一文看懂指令集是什么

https://mp.weixin.qq.com/s/p7FKgx-sFGDJF0y4IGWvyg

CPU指令集架构科普

https://mp.weixin.qq.com/s/5uie8Ci5dK_wy54Z70Gklg

RISC-V精简到何种程度？能省的都省了！

https://mp.weixin.qq.com/s/JNCC3C3Sq0Hzk_5VBcivng

RISC-V有何特别之处？

https://mp.weixin.qq.com/s/26se041cc9aBRw16kvPPjA

芯片制造新模式--像搭积木一样造芯片

https://mp.weixin.qq.com/s/QwE_VTEUS9kGDDrHlzPYmg

硅片为什么不是方的？

https://zhuanlan.zhihu.com/p/32378843

ARM攒机指南-汽车篇

https://mp.weixin.qq.com/s/Hq9hzkyfGcCQa_FfzSDoRg

5nm工艺节点以后，半导体器件的发展方向

https://zhuanlan.zhihu.com/p/66263349

为什么内存和闪存制程比CPU低？它们现在都在什么节点？
