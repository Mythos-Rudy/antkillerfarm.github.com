---
layout: post
title:  机器学习（十九）——关联规则挖掘（1）
category: ML 
---

* toc
{:toc}

# 关联规则挖掘

## 基本概念

关联规则挖掘（Association rule mining）是机器学习的一个子领域。它最早的案例就是以下的**尿布和啤酒**的故事：

>沃尔玛曾今对数据仓库中一年多的原始交易数据进行了详细的分析，发现与尿布一起被购买最多的商品竟然是啤酒。   
>借助数据仓库和关联规则，发现了这个隐藏在背后的事实：**美国妇女经常会嘱咐丈夫下班后为孩子买尿布，而30%~40%的丈夫在买完尿布之后又要顺便购买自己爱喝的啤酒。**   
>根据这个发现，沃尔玛调整了货架的位置，把尿布和啤酒放在一起销售，大大增加了销量。

这里借用一个引例来介绍关联规则挖掘的基本概念。

| 交易号TID | 顾客购买的商品 | 交易号TID | 顾客购买的商品 |
|:--:|:--|:--:|:--|
| T1 | bread, cream, milk, tea | T6 | bread, tea |
| T2 | bread, cream, milk | T7 | beer, milk, tea |
| T3 | cake, milk | T8 | bread, tea |
| T4 | milk, tea | T9 | bread, cream, milk, tea |
| T5 | bread, cake, milk | T10 | bread, milk, tea |

**定义一**：设$$I=\{i_1,i_2,\dots,i_m\}$$，是m个不同的项目的集合，每个$$i_k$$称为一个**项目**。项目的集合I称为**项集**。其元素的个数称为项集的长度，长度为k的项集称为k-项集。引例中每个商品就是一个项目，项集为$$I=\{bread, beer, cake,cream, milk, tea\}$$，I的长度为6。

**定义二**：每笔**交易T**是项集I的一个子集。对应每一个交易有一个唯一标识交易号，记作TID。交易全体构成了**交易数据库D**，$$\mid D\mid$$等于D中交易的个数。引例中包含10笔交易，因此$$\mid D\mid=10$$。

**定义三**：对于项集X，设定$$count(X\subseteq T)$$为交易集D中包含X的交易的数量，则项集X的**支持度**为：

$$support(X)=\frac{count(X\subseteq T)}{\mid D\mid }$$

引例中$$X=\{bread, milk\}$$出现在T1，T2，T5，T9和T10中，所以支持度为0.5。

**定义四**：**最小支持度**是项集的最小支持阀值，记为$$SUP_{min}$$，代表了用户关心的关联规则的最低重要性。支持度不小于$$SUP_{min}$$的项集称为频繁集，长度为k的频繁集称为k-频繁集。如果设定$$SUP_{min}$$为0.3，引例中$$\{bread, milk\}$$的支持度是0.5，所以是2-频繁集。

**定义五**：**关联规则**是一个蕴含式：

$$R：X\Rightarrow Y$$

其中$$X\subset I$$，$$Y\subset I$$，并且$$X\cap Y=\varnothing$$。表示项集X在某一交易中出现，则导致Y以某一概率也会出现。用户关心的关联规则，可以用两个标准来衡量：支持度和可信度。

**定义六**：关联规则R的**支持度**是交易集同时包含X和Y的交易数与$$\mid D\mid$$之比。即：

$$support(X\Rightarrow Y)=\frac{count(X\cap Y)}{\mid D\mid }$$

支持度反映了X、Y同时出现的概率。关联规则的支持度等于频繁集的支持度。

**定义七**：对于关联规则R，**可信度**是指包含X和Y的交易数与包含X的交易数之比。即：

$$confidence(X\Rightarrow Y)=\frac{support(X\Rightarrow Y)}{support(X)}$$

可信度反映了如果交易中包含X，则交易包含Y的概率。一般来说，只有支持度和可信度较高的关联规则才是用户感兴趣的。

**定义八**：设定关联规则的最小支持度和最小可信度为$$SUP_{min}$$和$$CONF_{min}$$。规则R的支持度和可信度均不小于$$SUP_{min}$$和$$CONF_{min}$$，则称为**强关联规则**。关联规则挖掘的目的就是找出强关联规则，从而指导商家的决策。

这八个定义包含了关联规则相关的几个重要基本概念，关联规则挖掘主要有两个问题：

1.找出交易数据库中所有大于或等于用户指定的最小支持度的频繁项集。

2.利用频繁项集生成所需要的关联规则，根据用户设定的最小可信度筛选出强关联规则。

其中，步骤1是关联规则挖掘算法的难点，下文介绍的Apriori算法和FP-growth算法，都是解决步骤1问题的算法。

参考：

http://blog.csdn.net/OpenNaive/article/details/7047823

关联规则挖掘（一）：基本概念

# 苏俄++++

乌克兰是全球知名的粮食生产大国，有着“欧洲粮仓”的美称。

乌克兰军人的每天的伙食标准为81格里夫纳，折合人民币18.63 元。现如今乌克兰军人的伙食标准比寄宿中学的高中学生的伙食费标准还少55格里夫纳。这也导致乌克兰军内的食物是出了名的恶劣，三顿饭只有土豆泥，没有任何的配菜。

吃不饱只能自己想办法，在克拉马托尔斯克地区，乌军第81伞兵旅的士兵抢劫了城里多家零售店和药房。

那些农业巨头们争着扩大农产品贸易规模，还有另一个原因，就是想借机换取更多的美元。按照货币购买力平价指数来测算，2021年，乌克兰本币格里夫纳表现较差，整体兑美元的汇率被低估了60%以上，在全球被低估的货币排名第五。

对比国内的货币，美元一直在升值。所以，那些寡头就动了“歪心思”，如果通过扩大外贸挣得更多美元，就能在国内换得更多的格里夫纳。这也就意味着，企业在国内支付税款、工资的时候，不费吹灰之力就能赚取巨额差价，此时不“白嫖”更待何时。

https://zhuanlan.zhihu.com/p/463166139

奇葩小国 乌克兰

---

塔曼摩步师，在二战中的新罗西斯克－塔曼战役中一战成名。在1943年9～10月的会战中，该部强攻塔曼半岛，重创德第17集团军，苏军统帅部将其定名为“塔曼师”。

---

留里克王朝建立后的很长一段时间内基辅确实是罗斯地区的权力中心，但是基辅罗斯只是个松散的封建国家联盟，随着不断地分封，其分成了一个又一个大公国，而诸公国间纷争不断，直到蒙古汗国扩张到了罗斯地区。

当时的基辅大公姆斯季斯拉夫·罗曼诺维奇率领南俄的诸王公迎战蒙古人，但是分属不同王公的罗斯联军根本不是蒙古人的对手，被蒙古军彻底击败，姆斯季斯拉夫·罗曼诺维奇被俘后遭到处决。此后蒙古军队数次劫掠了基辅大公国，并最终攻克了基辅，基辅大公国变成了蒙古的附庸。之后蒙古汗国和后继的金帐汗国成了罗斯地区的统治者，但是蒙古人并不直接统治罗斯地区，而是通过向各公国收取贡税、干涉各公国的继承问题来实施统治，并任命一位“全罗斯大公”来作为代理人。最初“全罗斯的大公”为弗拉基米尔-苏兹达尔大公亚历山大·雅罗斯拉维奇·涅夫斯基，但是他死后大公国瓦解，分裂出的弗拉基米尔大公国持有“全罗斯的大公”，直到弗拉基米尔分裂成特维尔、莫斯科和苏兹达尔三公国，这三个公国长期竞争“全罗斯的大公”。

由于蒙古分封和继承制度的缺陷，金帐汗国总是会陷入周期性的内战，罗斯诸大公国往往趁机相互攻打、兼并，扩大自己的势力，最终莫斯科大公国取胜，成为罗斯诸公国中最强大的的势力，而金帐汗国在数次内乱后愈发衰弱，不得不更加倚重其代理人对罗斯地区实施统治，莫斯科大公国则借此进一步扩张。最终在14世纪后期莫斯科大公国于库利科沃会战中击败了金帐汗国马麦汗的军队，但是之后帖木儿扶持的脱脱迷失成功振兴了金帐汗国，并击败了莫斯科大公国，挫败了莫斯科大公国第一次的独立企图。但是不久之后脱脱迷失和帖木儿爆发冲突并被击败，金帐汗国再次衰退，对莫斯科大公国的控制力度进一步下滑。15世纪时莫斯科大公国在结束了自己的内战后再次独立，金帐汗国两次征讨都无功而返，彻底丧失了宗主权。之后金帐汗国很快就崩溃接替，莫斯科大公国则通过征服剩余的罗斯公国和金帐汗国解体后形成的数个小汗国发展壮大，最终建立了俄罗斯帝国。

而在蒙古统治期间，基辅大公国虽然仍然就存在，但是饱受罗斯诸公国之间的战争困扰，并且还要面对新出现的敌人——立陶宛大公国开始迅速扩张，最终在14世纪早期攻克了基辅，并在15世纪后期正式吞并了基辅大公国。此后基辅处于波兰-立陶宛、俄罗斯和克里米亚汗国争夺区域的边缘，最终在17世纪后期落入俄罗斯手中时基辅已经受到了波兰的长期影响，语言和俄罗斯有了明显的差异。而蒙古西征也让罗斯分化成了三个部分，分别对应现在的俄罗斯、乌克兰、白俄罗斯。

https://www.zhihu.com/question/518954400

为什么俄罗斯原先的发源地基辅会分给乌克兰？

---

毛子的发家史：

![](/images/img4/Russian.jpg)

![](/images/img4/Russian_2.jpg)

![](/images/img4/Russian_3.jpg)

![](/images/img4/Russian_4.jpg)

---

![](/images/img4/Gas.jpg)

---

![](/images/img4/Ukraine_2.jpg)

---

2022年2月22日 普京签署承认“顿涅茨克共和国”和“卢甘斯克共和国”的命令。

2月24日 普京宣布在顿巴斯地区展开军事行动。
